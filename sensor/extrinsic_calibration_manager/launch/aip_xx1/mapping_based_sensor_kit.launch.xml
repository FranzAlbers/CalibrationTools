<?xml version="1.0" encoding="UTF-8"?>
<launch>

  <arg name="vehicle_id" default="default" />
  <let name="sensor_model" value="aip_xx1" />
  <let name="parent_frame" value="sensor_kit_base_link" />
  <let name="base_frame" value="base_link" />


  <let name="mapping_pointcloud" value="/sensing/lidar/top/outlier_filtered/pointcloud" />
  <let name="calibration_pointcloud" value="/sensing/lidar/left/outlier_filtered/pointcloud" />

  <log message="BBBBBBBBBBBBBBBBBBBBBBBB: AAAAAAAAAAAAAAAAAAAAAAAAA" />

  <arg name="rviz" />

  <!-- extrinsic_calibration_client -->
  <!--arg name="src_yaml" default="$(find-pkg-share individual_params)/config/$(var vehicle_id)/$(var sensor_model)/sensor_kit_calibration.yaml" />
  <arg name="dst_yaml" default="$(env HOME)/sensor_kit_calibration.yaml" /-->

  <!--node pkg="extrinsic_calibration_client" exec="extrinsic_calibration_client" name="extrinsic_calibration_client" output="screen" if="$(var calibrate_sensor)">
    <param name="src_path" value="$(var src_yaml)" />
    <param name="dst_path" value="$(var dst_yaml)" />
  </node-->

  <!-- extrinsic_calibration_manager -->
  <!--node pkg="extrinsic_calibration_manager" exec="extrinsic_calibration_manager" name="extrinsic_calibration_manager" output="screen" if="$(var calibrate_sensor)">
    <param name="parent_frame" value="$(var parent_frame)" />
    <param name="child_frames" value="
    [$(var camera_frame)]" />
  </node-->

  <!--
    /sensing/lidar/top/outlier_filtered/pointcloud
    /sensing/lidar/top/pointcloud_raw
  -->

  <!-- tag based calibrator -->
  <include file="$(find-pkg-share extrinsic_mapping_based_calibrator)/launch/calibrator.launch.xml">
    <arg name="ns" value="$(var parent_frame)" />
    <arg name="parent_frame" value="$(var parent_frame)" />
    <arg name="child_frame" value="SOMELIDARFRAME" />
    <arg name="base_frame" value="$(var base_frame)" />
    <arg name="mapping_pointcloud" value="$(var mapping_pointcloud)" />
    <arg name="calibration_pointcloud" value="$(var calibration_pointcloud)" />
  </include>

</launch>
