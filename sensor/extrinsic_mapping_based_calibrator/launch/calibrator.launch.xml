<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <arg name="ns" />
  <arg name="base_frame" />
  <arg name="parent_frame" />
  <arg name="child_frame" />
  <arg name="mapping_pointcloud" />
  <arg name="calibration_pointcloud" />
  <arg name="calibration_lidar_frame" />
  <arg name="mapping_lidar_frame" />

  <group>
    <push-ros-namespace namespace="$(var ns)" />
    <node pkg="extrinsic_mapping_based_calibrator" exec="extrinsic_mapping_based_calibrator" name="extrinsic_mapping_based_calibrator_node" output="screen">
      <param name="base_frame" value="$(var base_frame)" />
      <param name="parent_frame" value="$(var parent_frame)" />
      <param name="child_frame" value="$(var child_frame)" />
      <param name="map_frame" value="calibration_map" />
      <param name="calibration_lidar_frame" value="$(var calibration_lidar_frame)" />
      <param name="mapping_lidar_frame" value="$(var mapping_lidar_frame)" />

      <param name="marker_size" value="10.0" />

      <param name="ndt_resolution" value="1.0" />
      <param name="ndt_step_size" value="0.1" />
      <param name="ndt_max_iterations" value="100" />

      <remap from="mapping_pointcloud" to="$(var mapping_pointcloud)"/>
      <remap from="calibration_pointcloud" to="$(var calibration_pointcloud)"/>
    </node>
  </group>

</launch>
